"use strict";angular.module("capstone2017App",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ngMap","ui.bootstrap"]).config(["$locationProvider","$routeProvider","$sceDelegateProvider",function(a,b,c){c.resourceUrlWhitelist(["self","http://api.eventful.com/json/events/**"]),b.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/events/:eventID",{templateUrl:"views/events.html",controller:"EventsCtrl",controllerAs:"events"}).otherwise({redirectTo:"/"})}]),angular.module("capstone2017App").controller("MainCtrl",["$scope","$route","$routeParams","$location","events",function(a,b,c,d,e){a.dates=["All","Today","This Week","Next Week","January","February","March","April","May","June","July","August","September","October","November","December"],a.location=null,a.time=null,a.within=null,a.distance=["5","10","20","50","100"],a.keywords=null,a.refreshCurrent=function(b,c,d,f){a.events=e.query({location:d,within:c,time:b,keywords:f}).then(function(b){a.eventdata=b.data.events}),a.searchLocation=a.location,a.searchWithin=a.within,a.searchKeyword=a.keywords,a.searchTime=a.time},a.descLength=300,this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("capstone2017App").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("capstone2017App").factory("events",["$http",function(a){var b="http://api.eventful.com/json/events/search";return{query:function(c){return a.jsonp(b,{dataType:"jsonp",jsonpCallbackParam:"callback",params:{q:"music",app_key:"mhNWqRwCNqmxbkrL",location:c.location,within:c.within,time:c.time,keywords:c.keywords,image_sizes:"large"}})}}}]),angular.module("capstone2017App").factory("about",function(){var a=42;return{someMethod:function(){return a}}}),angular.module("capstone2017App").controller("EventsCtrl",["$scope","$route","$routeParams","$location","indevents","NgMap",function(a,b,c,d,e,f){a.myInterval=3e3,a.noWrapSlides=!1,a.active=0,a.eventID=c.eventID,a.indevents=e.query({id:a.eventID}).then(function(b){a.eventdata=b.data,a.imagesArray=angular.isArray(b.data.images.image)}),a.googleMapsUrl="https://maps.googleapis.com/maps/api/js?key=AIzaSyDM09EsXdiZzSBueXZYwxv0fhL2_LXbBAs",f.getMap({id:"map"}).then(function(a){a.showInfoWindow("markerPopup")}),this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("capstone2017App").factory("indevents",["$http",function(a){var b="http://api.eventful.com/json/events/get";return{query:function(c){return a.jsonp(b,{dataType:"jsonp",jsonpCallbackParam:"callback",params:{app_key:"mhNWqRwCNqmxbkrL",id:c.id,image_sizes:"large"}})}}}]),angular.module("capstone2017App").factory("googleMaps",["uiGmapGoogleMapApiProvider",function(a){a.cofigure({key:"AIzaSyAmR-tixjucCiUE3229GKl_QZd1LfsheCw",v:"3.20",libraries:"weather,geometry,visualization"})}]),angular.module("capstone2017App").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/events.html",'<div ng-controller="EventsCtrl" class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"> <div class="row"> <h2>{{eventdata.title}}</h2> <h4><a href="{{eventdata.url}}">View on Eventful</a></h4> </div> <div class="row"> <div class="col-md-8 col-sm-12"> <div class="event-images"> <div ng-if="eventdata.images != null"> <div ng-if="imagesArray"> <!-- carousel slides --> <div uib-carousel interval="myInterval"> <div uib-slide ng-repeat="slide in eventdata.images.image" index="$index"> <img ng-src="{{slide.large.url}}" style="margin:auto"> </div> </div> </div> <img ng-if="imagesArray==false" src="{{eventdata.images.image.large.url}}"> </div> <div ng-if="eventdata.images == null"> <img src="images/sixteenth-note.572c9c02.jpg" alt="placeholder image"> </div> </div> </div> <div class="col-md-4"> <p>{{eventdata.title}} is at {{eventdata.venue_name}}</p> <p>Maps to the event {{eventdata.address}}, {{eventdata.city}}, {{eventdata.region}} {{eventdata.postal_code}}</p> <p ng-bind-html="eventdata.description"> {{eventdata.description}} </p> </div> </div> <div id="map" class="row"> <div map-lazy-load="https://maps.google.com/maps/api/js" map-lazy-load-params="{{googleMapsUrl}}"> <ng-map default-style="false" center="{{eventdata.latitude}},{{eventdata.longitude}}" zoom="12" min-zoom="8"> <marker id="eventmarker" position="{{eventdata.latitude}},{{eventdata.longitude}}" title="{{eventdata.venue_name}}" on-click="map.showInfoWindow(\'markerPopup\')"> </marker> <info-window id="markerPopup"> <div ng-non-bindable> <em>{{eventdata.venue_name}}</em><br> {{eventdata.venue_type}}<br> <a ng-href="http://maps.google.com/maps?z=12&t=m&q=loc:{{eventdata.latitude}}+{{eventdata.longitude}}" alt="maps link">{{eventdata.address}}<br> {{eventdata.city}}, {{eventdata.region}}<br></a> </div> </info-window> </ng-map> </div> </div> </div>'),a.put("views/main.html",'<div ng-controller="MainCtrl"> <h1>Find your favorite events</h1> <h2></h2> <div class="row"> <div class="col-sm-2 col-xs-4"> Date: <br> <select ng-model="time" ng-options="x for x in dates" id="date-range" name="Choose-date" class="select-field"> </select> </div> <div class="col-sm-1 col-xs-4 within-select"> Within: <br> <select ng-model="within" ng-options="x for x in distance" id="within-range" name="Choose-within" class="select-field"> </select> </div> <div class="col-sm-3 col-xs-4"> City or Zip Code: <br> <input ng-model="location" type="text" class="select-field" id="zip-code" placeholder="98101"> </div> <div class="col-sm-3 col-xs-6"> Keyword: <br> <input ng-model="keywords" type="text" class="select-field" id="keyword-input" placeholder="Michael Jackson"> </div> <div class="col-sm-2 col-xs-6"> <br> <a class="select-field btn btn-lg btn-primary" ng-click="refreshCurrent(time, within, location, keywords)">Find events!</a> </div> </div> <div id="event-container"> <div ng-if="searchLocation || searchKeyword || searchTime" class="eventsFound"> <!-- Logic to show what was searched for --> <h1>Your events <span ng-if="searchLocation == null">in {{eventdata.event[0].city_name}} etc.</span> <span ng-if="searchWithin == null && searchLocation">in {{location}}</span> <span ng-if="searchWithin && searchLocation">within {{within}} miles of {{location}}</span> <span ng-if="searchTime"> for <span ng-if="time == All">All Dates</span><span ng-if="time != All"> {{time}}</span></span></h1> <!-- Individual events. Events per page = 10 --> <div ng-model="eventsDisplay" ng-repeat="event in eventdata.event" class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"> <div class="event-wrapper"> <div class="col-xs-12"> <div class="event-title"> <h2><a ng-href="#!/events/{{event.id}}" alt="event link">{{event.title}}</a></h2> </div> </div> <div class="row"> <div class="col-sm-6 col-xs-12 ind-events"> <div class="interior-events"> <div ng-if="event.image == null"><img src="images/sixteenth-note.572c9c02.jpg" class="event-image" alt="placeholder image"></div> <div ng-if="event.image"><img src="{{event.image.large.url}}" class="event-image" alt="{{event.title}} Image"></div> </div> </div> <div class="col-sm-6 col-xs-12 ind-events"> <div class="interior-events"> <a href="{{event.venue_url}}" alt="venue link">at {{event.venue_name}}</a> <div ng-if="event.performers">Performed by <span ng-if="event.performers.performer.name"> {{event.performers.performer.name}} </span> </div> <div ng-if="event.description == null"> No event description available </div> <div ng-if="event.description != null" ng-bind-html="event.description | limitTo:descLength"> {{event.description | limitTo:descLength}} </div> </div> </div> </div> <div class="col-xs-12"> </div> </div> </div> </div> </div> </div>')}]);